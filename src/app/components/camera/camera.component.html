<webcam
    [trigger]="triggerObservable"
    [imageType]="'image/png'"
    [width]="width"
    (imageCapture)="handleImage($event)"
    *ngIf="showWebcam"
    [allowCameraSwitch]="allowCameraSwitch"
    [switchCamera]="nextWebcamObservable"
    [videoOptions]="videoOptions"
    [imageQuality]="1"
    (cameraSwitched)="cameraWasSwitched($event)"
    (initError)="handleInitError($event)"
></webcam>
<div captured>
    <img [src]="this.captured?.imageAsDataUrl">
</div>
<div *ngIf="($notloading | async) as notloading">
    <button
        mat-flat-button
        color="primary"
        (click)="startCamera();"
        *ngIf="!showWebcam"
    >
        Start camera
    </button>

    <button
        mat-flat-button
        color="primary"
        (click)="triggerSnapshot();"
        *ngIf="showWebcam"
    >
        Take A Snapshot
    </button>
</div>
<app-options (submit)="onSubmit($event)"></app-options>

<h4 *ngIf="errors.length > 0">Messages:</h4>
<ul *ngFor="let error of errors">
    <li>{{error | json}}</li>
</ul>
